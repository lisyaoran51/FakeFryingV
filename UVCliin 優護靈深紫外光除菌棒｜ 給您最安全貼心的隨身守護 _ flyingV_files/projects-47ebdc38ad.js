!function(t,e){"use strict";function n(n,i){function o(t){return ht.preferFlash&&at&&!ht.ignoreFlash&&ht.flash[t]!==e&&ht.flash[t]}function a(t){return function(e){var n,i=this._s;return n=i&&i._a?t.call(this,e):null}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=i||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20150601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var s,r,u,l,d,c,f,h,p,m,y,_,g,v,O,L,w,M,b,T,P,S,C,E,D,A,k,F,H,I,x,N,B,R,$,U,V,j,q,Q,W,G,Y,K,J,X,z,Z,tt,et,nt,it,ot,at,st,rt,ut,lt,dt,ct,ft,ht=this,pt=null,mt=null,yt=navigator.userAgent,_t=t.location.href.toString(),gt=document,vt=[],Ot=!1,Lt=!1,wt=!1,Mt=!1,bt=!1,Tt=8,Pt=null,St=null,Ct=!1,Et=!1,Dt=0,At=null,kt=[],Ft=null,Ht=Array.prototype.slice,It=!1,xt=0,Nt=1e3,Bt=yt.match(/(ipad|iphone|ipod)/i),Rt=yt.match(/android/i),$t=yt.match(/msie/i),Ut=yt.match(/webkit/i),Vt=yt.match(/safari/i)&&!yt.match(/chrome/i),jt=yt.match(/opera/i),qt=yt.match(/(mobile|pre\/|xoom)/i)||Bt||Rt,Qt=!_t.match(/usehtml5audio/i)&&!_t.match(/sm2\-ignorebadua/i)&&Vt&&!yt.match(/silk/i)&&yt.match(/OS X 10_6_([3-7])/i),Wt=(t.console!==e&&console.log!==e,gt.hasFocus!==e?gt.hasFocus():null),Gt=Vt&&(gt.hasFocus===e||!gt.hasFocus()),Yt=!Gt,Kt=/(mp3|mp4|mpa|m4a|m4b)/i,Jt="about:blank",Xt="data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==",zt=gt.location?gt.location.protocol.match(/http/i):null,Zt=zt?"":"http://",te=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,ee=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],ne=new RegExp("\\.("+ee.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!zt,$={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.hasHTML5=function(){try{return Audio!==e&&(jt&&opera!==e&&opera.version()<10?new Audio(null):new Audio).canPlayType!==e}catch(t){return!1}}(),this.setup=function(t){var n=!ht.url;return t!==e&&wt&&Ft&&ht.ok()&&(t.flashVersion!==e||t.url!==e||t.html5Test!==e),p(t),It||(qt?ht.setupOptions.ignoreMobileRestrictions&&!ht.setupOptions.forceUseGlobalHTML5Audio||(kt.push(b.globalHTML5),It=!0):ht.setupOptions.forceUseGlobalHTML5Audio&&(kt.push(b.globalHTML5),It=!0)),!ft&&qt&&(ht.setupOptions.ignoreMobileRestrictions?kt.push(b.ignoreMobile):(ht.setupOptions.useHTML5Audio=!0,ht.setupOptions.preferFlash=!1,Bt?ht.ignoreFlash=!0:(Rt&&!yt.match(/android\s2\.3/i)||!Rt)&&(It=!0))),t&&(n&&C&&t.url!==e&&ht.beginDelayedInit(),C||t.url===e||"complete"!==gt.readyState||setTimeout(P,1)),ft=!0,ht},this.ok=function(){return Ft?wt&&!Mt:ht.useHTML5Audio&&ht.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return r(e)||gt[e]||t[e]},this.createSound=function(t,n){function i(){return a=U(a),ht.sounds[a.id]=new s(a),ht.soundIDs.push(a.id),ht.sounds[a.id]}var o,a,r=null;if(!wt||!ht.ok())return!1;if(n!==e&&(t={id:t,url:n}),a=h(t),a.url=Y(a.url),a.id===e&&(a.id=ht.setupOptions.idPrefix+xt++),q(a.id,!0))return ht.sounds[a.id];if(X(a))r=i(),r._setup_html5(a);else{if(ht.html5Only)return i();if(ht.html5.usingFlash&&a.url&&a.url.match(/data\:/i))return i();c>8&&null===a.isMovieStar&&(a.isMovieStar=!!(a.serverURL||!!a.type&&a.type.match(te)||a.url&&a.url.match(ne))),a=V(a,o),r=i(),8===c?mt._createSound(a.id,a.loops||1,a.usePolicyFile):(mt._createSound(a.id,a.url,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,!!a.isMovieStar&&a.bufferTime,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,!0,a.autoLoad,a.usePolicyFile),a.serverURL||(r.connected=!0,a.onconnect&&a.onconnect.apply(r))),a.serverURL||!a.autoLoad&&!a.autoPlay||r.load(a)}return!a.serverURL&&a.autoPlay&&r.play(),r},this.destroySound=function(t,e){if(!q(t))return!1;var n,i=ht.sounds[t];for(i.stop(),i._iO={},i.unload(),n=0;n<ht.soundIDs.length;n++)if(ht.soundIDs[n]===t){ht.soundIDs.splice(n,1);break}return e||i.destruct(!0),i=null,delete ht.sounds[t],!0},this.load=function(t,e){return!!q(t)&&ht.sounds[t].load(e)},this.unload=function(t){return!!q(t)&&ht.sounds[t].unload()},this.onPosition=function(t,e,n,i){return!!q(t)&&ht.sounds[t].onposition(e,n,i)},this.onposition=this.onPosition,this.clearOnPosition=function(t,e,n){return!!q(t)&&ht.sounds[t].clearOnPosition(e,n)},this.play=function(t,e){var n=null,i=e&&!(e instanceof Object);if(!wt||!ht.ok())return!1;if(q(t,i))i&&(e={url:e});else{if(!i)return!1;i&&(e={url:e}),e&&e.url&&(e.id=t,n=ht.createSound(e).play())}return null===n&&(n=ht.sounds[t].play(e)),n},this.start=this.play,this.setPosition=function(t,e){return!!q(t)&&ht.sounds[t].setPosition(e)},this.stop=function(t){return!!q(t)&&ht.sounds[t].stop()},this.stopAll=function(){var t;for(t in ht.sounds)ht.sounds.hasOwnProperty(t)&&ht.sounds[t].stop()},this.pause=function(t){return!!q(t)&&ht.sounds[t].pause()},this.pauseAll=function(){var t;for(t=ht.soundIDs.length-1;t>=0;t--)ht.sounds[ht.soundIDs[t]].pause()},this.resume=function(t){return!!q(t)&&ht.sounds[t].resume()},this.resumeAll=function(){var t;for(t=ht.soundIDs.length-1;t>=0;t--)ht.sounds[ht.soundIDs[t]].resume()},this.togglePause=function(t){return!!q(t)&&ht.sounds[t].togglePause()},this.setPan=function(t,e){return!!q(t)&&ht.sounds[t].setPan(e)},this.setVolume=function(t,n){var i,o;{if(t===e||isNaN(t)||n!==e)return!!q(t)&&ht.sounds[t].setVolume(n);for(i=0,o=ht.soundIDs.length;i<o;i++)ht.sounds[ht.soundIDs[i]].setVolume(t)}},this.mute=function(t){var e=0;if(t instanceof String&&(t=null),t)return!!q(t)&&ht.sounds[t].mute();for(e=ht.soundIDs.length-1;e>=0;e--)ht.sounds[ht.soundIDs[e]].mute();return ht.muted=!0,!0},this.muteAll=function(){ht.mute()},this.unmute=function(t){var e;if(t instanceof String&&(t=null),t)return!!q(t)&&ht.sounds[t].unmute();for(e=ht.soundIDs.length-1;e>=0;e--)ht.sounds[ht.soundIDs[e]].unmute();return ht.muted=!1,!0},this.unmuteAll=function(){ht.unmute()},this.toggleMute=function(t){return!!q(t)&&ht.sounds[t].toggleMute()},this.getMemoryUse=function(){var t=0;return mt&&8!==c&&(t=parseInt(mt._getMemoryUse(),10)),t},this.disable=function(n){var i;if(n===e&&(n=!1),Mt)return!1;for(Mt=!0,i=ht.soundIDs.length-1;i>=0;i--)H(ht.sounds[ht.soundIDs[i]]);return f(n),it.remove(t,"load",g),!0},this.canPlayMIME=function(t){var e;return ht.hasHTML5&&(e=z({type:t})),!e&&Ft&&(e=t&&ht.ok()?!!((c>8?t.match(te):null)||t.match(ht.mimePattern)):null),e},this.canPlayURL=function(t){var e;return ht.hasHTML5&&(e=z({url:t})),!e&&Ft&&(e=t&&ht.ok()?!!t.match(ht.filePattern):null),e},this.canPlayLink=function(t){return!(t.type===e||!t.type||!ht.canPlayMIME(t.type))||ht.canPlayURL(t.href)},this.getSoundById=function(t,e){if(!t)return null;var n=ht.sounds[t];return n},this.onready=function(e,n){var i="onready",o=!1;if("function"!=typeof e)throw N("needFunction",i);return n||(n=t),y(i,e,n),_(),o=!0,o},this.ontimeout=function(e,n){var i="ontimeout",o=!1;if("function"!=typeof e)throw N("needFunction",i);return n||(n=t),y(i,e,n),_({type:i}),o=!0,o},this._writeDebug=function(t,e){return!0},this._wD=this._writeDebug,this._debug=function(){},this.reboot=function(e,n){var i,o,a;for(i=ht.soundIDs.length-1;i>=0;i--)ht.sounds[ht.soundIDs[i]].destruct();if(mt)try{$t&&(St=mt.innerHTML),Pt=mt.parentNode.removeChild(mt)}catch(s){}if(St=Pt=Ft=mt=null,ht.enabled=C=wt=Ct=Et=Ot=Lt=Mt=It=ht.swfLoaded=!1,ht.soundIDs=[],ht.sounds={},xt=0,ft=!1,e)vt=[];else for(i in vt)if(vt.hasOwnProperty(i))for(o=0,a=vt[i].length;o<a;o++)vt[i][o].fired=!1;return ht.html5={usingFlash:null},ht.flash={},ht.html5Only=!1,ht.ignoreFlash=!1,t.setTimeout(function(){n||ht.beginDelayedInit()},20),ht},this.reset=function(){return ht.reboot(!0,!0)},this.getMoviePercent=function(){return mt&&"PercentLoaded"in mt?mt.PercentLoaded():null},this.beginDelayedInit=function(){bt=!0,P(),setTimeout(function(){return!Et&&(D(),T(),Et=!0,!0)},20),v()},this.destruct=function(){ht.disable(!0)},s=function(t){var n,i,o,a,s,r,u,l,d,f,p=this,m=!1,y=[],_=0,g=null;d={duration:null,time:null},this.id=t.id,this.sID=this.id,this.url=t.url,this.options=h(t),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,f=!this.url,this.id3={},this._debug=function(){},this.load=function(t){var n,i=null;if(t!==e?p._iO=h(t,p.options):(t=p.options,p._iO=t,g&&g!==p.url&&(p._iO.url=p.url,p.url=null)),p._iO.url||(p._iO.url=p.url),p._iO.url=Y(p._iO.url),p.instanceOptions=p._iO,n=p._iO,!n.url&&!p.url)return p;if(n.url===p.url&&0!==p.readyState&&2!==p.readyState)return 3===p.readyState&&n.onload&&ct(p,function(){n.onload.apply(p,[!!p.duration])}),p;if(p.loaded=!1,p.readyState=1,p.playState=0,p.id3={},X(n))i=p._setup_html5(n),i._called_load||(p._html5_canplay=!1,p.url!==n.url&&(p._a.src=n.url,p.setPosition(0)),p._a.autobuffer="auto",p._a.preload="auto",p._a._called_load=!0);else{if(ht.html5Only)return p;if(p._iO.url&&p._iO.url.match(/data\:/i))return p;try{p.isHTML5=!1,p._iO=V(U(n)),p._iO.autoPlay&&(p._iO.position||p._iO.from)&&(p._iO.autoPlay=!1),n=p._iO,8===c?mt._load(p.id,n.url,n.stream,n.autoPlay,n.usePolicyFile):mt._load(p.id,n.url,!!n.stream,!!n.autoPlay,n.loops||1,!!n.autoLoad,n.usePolicyFile)}catch(o){A({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return p.url=n.url,p},this.unload=function(){return 0!==p.readyState&&(p.isHTML5?(a(),p._a&&(p._a.pause(),g=tt(p._a))):8===c?mt._unload(p.id,Jt):mt._unload(p.id),n()),p},this.destruct=function(t){p.isHTML5?(a(),p._a&&(p._a.pause(),tt(p._a),It||o(),p._a._s=null,p._a=null)):(p._iO.onfailure=null,mt._destroySound(p.id)),t||ht.destroySound(p.id,!0)},this.play=function(t,n){var i,o,a,u,d,y,_=!0,g=null;if(n=n===e||n,t||(t={}),p.url&&(p._iO.url=p.url),p._iO=h(p._iO,p.options),p._iO=h(t,p._iO),p._iO.url=Y(p._iO.url),p.instanceOptions=p._iO,!p.isHTML5&&p._iO.serverURL&&!p.connected)return p.getAutoPlay()||p.setAutoPlay(!0),p;if(X(p._iO)&&(p._setup_html5(p._iO),s()),1!==p.playState||p.paused||(i=p._iO.multiShot,i||(p.isHTML5&&p.setPosition(p._iO.position),g=p)),null!==g)return g;if(t.url&&t.url!==p.url&&(p.readyState||p.isHTML5||8!==c||!f?p.load(p._iO):f=!1),p.loaded||(0===p.readyState?(p.isHTML5||ht.html5Only?p.isHTML5?p.load(p._iO):g=p:(p._iO.autoPlay=!0,p.load(p._iO)),p.instanceOptions=p._iO):2===p.readyState&&(g=p)),null!==g)return g;if(!p.isHTML5&&9===c&&p.position>0&&p.position===p.duration&&(t.position=0),p.paused&&p.position>=0&&(!p._iO.serverURL||p.position>0))p.resume();else{if(p._iO=h(t,p._iO),(!p.isHTML5&&null!==p._iO.position&&p._iO.position>0||null!==p._iO.from&&p._iO.from>0||null!==p._iO.to)&&0===p.instanceCount&&0===p.playState&&!p._iO.serverURL){if(a=function(){p._iO=h(t,p._iO),p.play(p._iO)},p.isHTML5&&!p._html5_canplay?(p.load({_oncanplay:a}),g=!1):p.isHTML5||p.loaded||p.readyState&&2===p.readyState||(p.load({onload:a}),g=!1),null!==g)return g;p._iO=l()}(!p.instanceCount||p._iO.multiShotEvents||p.isHTML5&&p._iO.multiShot&&!It||!p.isHTML5&&c>8&&!p.getAutoPlay())&&p.instanceCount++,p._iO.onposition&&0===p.playState&&r(p),p.playState=1,p.paused=!1,p.position=p._iO.position===e||isNaN(p._iO.position)?0:p._iO.position,p.isHTML5||(p._iO=V(U(p._iO))),p._iO.onplay&&n&&(p._iO.onplay.apply(p),m=!0),p.setVolume(p._iO.volume,!0),p.setPan(p._iO.pan,!0),p.isHTML5?p.instanceCount<2?(s(),o=p._setup_html5(),p.setPosition(p._iO.position),o.play()):(u=new Audio(p._iO.url),d=function(){it.remove(u,"ended",d),p._onfinish(p),tt(u),u=null},y=function(){it.remove(u,"canplay",y);try{u.currentTime=p._iO.position/Nt}catch(t){}u.play()},it.add(u,"ended",d),p._iO.volume!==e&&(u.volume=Math.max(0,Math.min(1,p._iO.volume/100))),p.muted&&(u.muted=!0),p._iO.position?it.add(u,"canplay",y):u.play()):(_=mt._start(p.id,p._iO.loops||1,9===c?p.position:p.position/Nt,p._iO.multiShot||!1),9!==c||_||p._iO.onplayerror&&p._iO.onplayerror.apply(p))}return p},this.start=this.play,this.stop=function(t){var e,n=p._iO;return 1===p.playState&&(p._onbufferchange(0),p._resetOnPosition(0),p.paused=!1,p.isHTML5||(p.playState=0),u(),n.to&&p.clearOnPosition(n.to),p.isHTML5?p._a&&(e=p.position,p.setPosition(0),p.position=e,p._a.pause(),p.playState=0,p._onTimer(),a()):(mt._stop(p.id,t),n.serverURL&&p.unload()),p.instanceCount=0,p._iO={},n.onstop&&n.onstop.apply(p)),p},this.setAutoPlay=function(t){p._iO.autoPlay=t,p.isHTML5||(mt._setAutoPlay(p.id,t),t&&(p.instanceCount||1!==p.readyState||p.instanceCount++))},this.getAutoPlay=function(){return p._iO.autoPlay},this.setPosition=function(t){t===e&&(t=0);var n,i,o=p.isHTML5?Math.max(t,0):Math.min(p.duration||p._iO.duration,Math.max(t,0));if(p.position=o,i=p.position/Nt,p._resetOnPosition(p.position),p._iO.position=o,p.isHTML5){if(p._a){if(p._html5_canplay){if(p._a.currentTime!==i)try{p._a.currentTime=i,(0===p.playState||p.paused)&&p._a.pause()}catch(a){}}else if(i)return p;p.paused&&p._onTimer(!0)}}else n=9===c?p.position:i,p.readyState&&2!==p.readyState&&mt._setPosition(p.id,n,p.paused||!p.playState,p._iO.multiShot);return p},this.pause=function(t){return p.paused||0===p.playState&&1!==p.readyState?p:(p.paused=!0,p.isHTML5?(p._setup_html5().pause(),a()):(t||t===e)&&mt._pause(p.id,p._iO.multiShot),p._iO.onpause&&p._iO.onpause.apply(p),p)},this.resume=function(){var t=p._iO;return p.paused?(p.paused=!1,p.playState=1,p.isHTML5?(p._setup_html5().play(),s()):(t.isMovieStar&&!t.serverURL&&p.setPosition(p.position),mt._pause(p.id,t.multiShot)),!m&&t.onplay?(t.onplay.apply(p),m=!0):t.onresume&&t.onresume.apply(p),p):p},this.togglePause=function(){return 0===p.playState?(p.play({position:9!==c||p.isHTML5?p.position/Nt:p.position}),p):(p.paused?p.resume():p.pause(),p)},this.setPan=function(t,n){return t===e&&(t=0),n===e&&(n=!1),p.isHTML5||mt._setPan(p.id,t),p._iO.pan=t,n||(p.pan=t,p.options.pan=t),p},this.setVolume=function(t,n){return t===e&&(t=100),n===e&&(n=!1),p.isHTML5?p._a&&(ht.muted&&!p.muted&&(p.muted=!0,p._a.muted=!0),p._a.volume=Math.max(0,Math.min(1,t/100))):mt._setVolume(p.id,ht.muted&&!p.muted||p.muted?0:t),p._iO.volume=t,n||(p.volume=t,p.options.volume=t),p},this.mute=function(){return p.muted=!0,p.isHTML5?p._a&&(p._a.muted=!0):mt._setVolume(p.id,0),p},this.unmute=function(){p.muted=!1;var t=p._iO.volume!==e;return p.isHTML5?p._a&&(p._a.muted=!1):mt._setVolume(p.id,t?p._iO.volume:p.options.volume),p},this.toggleMute=function(){return p.muted?p.unmute():p.mute()},this.onPosition=function(t,n,i){return y.push({position:parseInt(t,10),method:n,scope:i!==e?i:p,fired:!1}),p},this.onposition=this.onPosition,this.clearOnPosition=function(t,e){var n;if(t=parseInt(t,10),isNaN(t))return!1;for(n=0;n<y.length;n++)t===y[n].position&&(e&&e!==y[n].method||(y[n].fired&&_--,y.splice(n,1)))},this._processOnPosition=function(){var t,e,n=y.length;if(!n||!p.playState||_>=n)return!1;for(t=n-1;t>=0;t--)e=y[t],!e.fired&&p.position>=e.position&&(e.fired=!0,_++,e.method.apply(e.scope,[e.position]),n=y.length);return!0},this._resetOnPosition=function(t){var e,n,i=y.length;if(!i)return!1;for(e=i-1;e>=0;e--)n=y[e],n.fired&&t<=n.position&&(n.fired=!1,_--);return!0},l=function(){var t,e,n=p._iO,i=n.from,o=n.to;return e=function(){p.clearOnPosition(o,e),p.stop()},t=function(){null===o||isNaN(o)||p.onPosition(o,e)},null===i||isNaN(i)||(n.position=i,n.multiShot=!1,t()),n},r=function(){var t,e=p._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&p.onPosition(parseInt(t,10),e[t])},u=function(){var t,e=p._iO.onposition;if(e)for(t in e)e.hasOwnProperty(t)&&p.clearOnPosition(parseInt(t,10))},s=function(){p.isHTML5&&Q(p)},a=function(){p.isHTML5&&W(p)},n=function(t){t||(y=[],_=0),m=!1,p._hasTimer=null,p._a=null,p._html5_canplay=!1,p.bytesLoaded=null,p.bytesTotal=null,p.duration=p._iO&&p._iO.duration?p._iO.duration:null,p.durationEstimate=null,p.buffered=[],p.eqData=[],p.eqData.left=[],p.eqData.right=[],p.failures=0,p.isBuffering=!1,p.instanceOptions={},p.instanceCount=0,p.loaded=!1,p.metadata={},p.readyState=0,p.muted=!1,p.paused=!1,p.peakData={left:0,right:0},p.waveformData={left:[],right:[]},p.playState=0,p.position=null,p.id3={}},n(),this._onTimer=function(t){var e,n,i=!1,o={};if(p._hasTimer||t)return p._a&&(t||(p.playState>0||1===p.readyState)&&!p.paused)&&(e=p._get_html5_duration(),e!==d.duration&&(d.duration=e,p.duration=e,i=!0),p.durationEstimate=p.duration,n=p._a.currentTime*Nt||0,n!==d.time&&(d.time=n,i=!0),(i||t)&&p._whileplaying(n,o,o,o,o)),i},this._get_html5_duration=function(){var t=p._iO,e=p._a&&p._a.duration?p._a.duration*Nt:t&&t.duration?t.duration:null,n=e&&!isNaN(e)&&e!==1/0?e:null;return n},this._apply_loop=function(t,e){t.loop=e>1?"loop":""},this._setup_html5=function(t){var e,o=h(p._iO,t),a=It?pt:p._a,s=decodeURI(o.url);if(It?s===decodeURI(ot)&&(e=!0):s===decodeURI(g)&&(e=!0),a){if(a._s)if(It)a._s&&a._s.playState&&!e&&a._s.stop();else if(!It&&s===decodeURI(g))return p._apply_loop(a,o.loops),a;e||(g&&n(!1),a.src=o.url,p.url=o.url,g=o.url,ot=o.url,a._called_load=!1)}else o.autoLoad||o.autoPlay?(p._a=new Audio(o.url),p._a.load()):p._a=jt&&opera.version()<10?new Audio(null):new Audio,a=p._a,a._called_load=!1,It&&(pt=a);return p.isHTML5=!0,p._a=a,a._s=p,i(),p._apply_loop(a,o.loops),o.autoLoad||o.autoPlay?p.load():(a.autobuffer=!1,a.preload="auto"),a},i=function(){function t(t,e,n){return p._a?p._a.addEventListener(t,e,n||!1):null}if(p._a._added_events)return!1;var e;p._a._added_events=!0;for(e in ut)ut.hasOwnProperty(e)&&t(e,ut[e]);return!0},o=function(){function t(t,e,n){return p._a?p._a.removeEventListener(t,e,n||!1):null}var e;p._a._added_events=!1;for(e in ut)ut.hasOwnProperty(e)&&t(e,ut[e])},this._onload=function(t){var e=!!t||!p.isHTML5&&8===c&&p.duration;return p.loaded=e,p.readyState=e?3:2,p._onbufferchange(0),p._iO.onload&&ct(p,function(){p._iO.onload.apply(p,[e])}),!0},this._onbufferchange=function(t){return 0!==p.playState&&(!(t&&p.isBuffering||!t&&!p.isBuffering)&&(p.isBuffering=1===t,p._iO.onbufferchange&&p._iO.onbufferchange.apply(p,[t]),!0))},this._onsuspend=function(){return p._iO.onsuspend&&p._iO.onsuspend.apply(p),!0},this._onfailure=function(t,e,n){p.failures++,p._iO.onfailure&&1===p.failures&&p._iO.onfailure(t,e,n)},this._onwarning=function(t,e,n){p._iO.onwarning&&p._iO.onwarning(t,e,n)},this._onfinish=function(){var t=p._iO.onfinish;p._onbufferchange(0),p._resetOnPosition(0),p.instanceCount&&(p.instanceCount--,p.instanceCount||(u(),p.playState=0,p.paused=!1,p.instanceCount=0,p.instanceOptions={},p._iO={},a(),p.isHTML5&&(p.position=0)),p.instanceCount&&!p._iO.multiShotEvents||t&&ct(p,function(){t.apply(p)}))},this._whileloading=function(t,e,n,i){var o=p._iO;p.bytesLoaded=t,p.bytesTotal=e,p.duration=Math.floor(n),p.bufferLength=i,p.isHTML5||o.isMovieStar?p.durationEstimate=p.duration:o.duration?p.durationEstimate=p.duration>o.duration?p.duration:o.duration:p.durationEstimate=parseInt(p.bytesTotal/p.bytesLoaded*p.duration,10),p.isHTML5||(p.buffered=[{start:0,end:p.duration}]),(3!==p.readyState||p.isHTML5)&&o.whileloading&&o.whileloading.apply(p)},this._whileplaying=function(t,n,i,o,a){var s,r=p._iO;return!isNaN(t)&&null!==t&&(p.position=Math.max(0,t),p._processOnPosition(),!p.isHTML5&&c>8&&(r.usePeakData&&n!==e&&n&&(p.peakData={left:n.leftPeak,right:n.rightPeak}),r.useWaveformData&&i!==e&&i&&(p.waveformData={left:i.split(","),right:o.split(",")}),r.useEQData&&a!==e&&a&&a.leftEQ&&(s=a.leftEQ.split(","),p.eqData=s,p.eqData.left=s,a.rightEQ!==e&&a.rightEQ&&(p.eqData.right=a.rightEQ.split(",")))),1===p.playState&&(p.isHTML5||8!==c||p.position||!p.isBuffering||p._onbufferchange(0),r.whileplaying&&r.whileplaying.apply(p)),!0)},this._oncaptiondata=function(t){p.captiondata=t,p._iO.oncaptiondata&&p._iO.oncaptiondata.apply(p,[t])},this._onmetadata=function(t,e){var n,i,o={};for(n=0,i=t.length;n<i;n++)o[t[n]]=e[n];p.metadata=o,p._iO.onmetadata&&p._iO.onmetadata.call(p,p.metadata)},this._onid3=function(t,e){var n,i,o=[];for(n=0,i=t.length;n<i;n++)o[t[n]]=e[n];p.id3=h(p.id3,o),p._iO.onid3&&p._iO.onid3.apply(p)},this._onconnect=function(t){t=1===t,p.connected=t,t&&(p.failures=0,q(p.id)&&(p.getAutoPlay()?p.play(e,p.getAutoPlay()):p._iO.autoLoad&&p.load()),p._iO.onconnect&&p._iO.onconnect.apply(p,[t]))},this._ondataerror=function(t){p.playState>0&&p._iO.ondataerror&&p._iO.ondataerror.apply(p)}},E=function(){return gt.body||gt.getElementsByTagName("div")[0]},r=function(t){return gt.getElementById(t)},h=function(t,n){var i,o,a=t||{};i=n===e?ht.defaultOptions:n;for(o in i)i.hasOwnProperty(o)&&a[o]===e&&("object"!=typeof i[o]||null===i[o]?a[o]=i[o]:a[o]=h(a[o],i[o]));return a},ct=function(e,n){e.isHTML5||8!==c?n():t.setTimeout(n,0)},m={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},p=function(t,n){var i,o=!0,a=n!==e,s=ht.setupOptions,r=m;for(i in t)if(t.hasOwnProperty(i))if("object"!=typeof t[i]||null===t[i]||t[i]instanceof Array||t[i]instanceof RegExp)a&&r[n]!==e?ht[n][i]=t[i]:s[i]!==e?(ht.setupOptions[i]=t[i],ht[i]=t[i]):r[i]===e?o=!1:ht[i]instanceof Function?ht[i].apply(ht,t[i]instanceof Array?t[i]:[t[i]]):ht[i]=t[i];else{if(r[i]!==e)return p(t[i],i);o=!1}return o},it=function(){function e(t){var e=Ht.call(t),n=e.length;return a?(e[1]="on"+e[1],n>3&&e.pop()):3===n&&e.push(!1),e}function n(t,e){var n=t.shift(),i=[s[e]];a?n[i](t[0],t[1]):n[i].apply(n,t)}function i(){n(e(arguments),"add")}function o(){n(e(arguments),"remove")}var a=t.attachEvent,s={add:a?"attachEvent":"addEventListener",remove:a?"detachEvent":"removeEventListener"};return{add:i,remove:o}}(),ut={abort:a(function(){}),canplay:a(function(){var t,n=this._s;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,n._onbufferchange(0),t=n._iO.position===e||isNaN(n._iO.position)?null:n._iO.position/Nt,this.currentTime!==t)try{this.currentTime=t}catch(i){}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:a(function(){var t=this._s;t.loaded||(t._onbufferchange(0),t._whileloading(t.bytesLoaded,t.bytesTotal,t._get_html5_duration()),t._onload(!0))}),durationchange:a(function(){var t,e=this._s;t=e._get_html5_duration(),isNaN(t)||t===e.duration||(e.durationEstimate=e.duration=t)}),ended:a(function(){var t=this._s;t._onfinish()}),error:a(function(){this._s._onload(!1)}),loadeddata:a(function(){var t=this._s;t._loaded||Vt||(t.duration=t._get_html5_duration())}),loadedmetadata:a(function(){}),loadstart:a(function(){this._s._onbufferchange(1)}),play:a(function(){this._s._onbufferchange(0)}),playing:a(function(){this._s._onbufferchange(0)}),progress:a(function(t){var e,n,i=this._s,o=0,a=("progress"===t.type,t.target.buffered),s=t.loaded||0,r=t.total||1;if(i.buffered=[],a&&a.length){for(e=0,n=a.length;e<n;e++)i.buffered.push({start:a.start(e)*Nt,end:a.end(e)*Nt});o=(a.end(0)-a.start(0))*Nt,s=Math.min(1,o/(t.target.duration*Nt))}isNaN(s)||(i._whileloading(s,r,i._get_html5_duration()),s&&r&&s===r&&ut.canplaythrough.call(this,t))}),ratechange:a(function(){}),suspend:a(function(t){var e=this._s;ut.progress.call(this,t),e._onsuspend()}),stalled:a(function(){}),timeupdate:a(function(){this._s._onTimer()}),waiting:a(function(){var t=this._s;t._onbufferchange(1)})},X=function(t){var e;return e=!(!t||!(t.type||t.url||t.serverURL))&&(!(t.serverURL||t.type&&o(t.type))&&(t.type?z({type:t.type}):z({url:t.url})||ht.html5Only||t.url.match(/data\:/i)))},tt=function(t){var n;return t&&(n=Vt?Jt:ht.html5.canPlayType("audio/wav")?Xt:Jt,t.src=n,t._called_unload!==e&&(t._called_load=!1)),It&&(ot=null),n},z=function(t){if(!ht.useHTML5Audio||!ht.hasHTML5)return!1;var n,i,a,s,r=t.url||null,u=t.type||null,l=ht.audioFormats;if(u&&ht.html5[u]!==e)return ht.html5[u]&&!o(u);if(!Z){Z=[];for(s in l)l.hasOwnProperty(s)&&(Z.push(s),l[s].related&&(Z=Z.concat(l[s].related)));Z=new RegExp("\\.("+Z.join("|")+")(\\?.*)?$","i")}return a=r?r.toLowerCase().match(Z):null,a&&a.length?a=a[1]:u?(i=u.indexOf(";"),a=(i!==-1?u.substr(0,i):u).substr(6)):n=!1,a&&ht.html5[a]!==e?n=ht.html5[a]&&!o(a):(u="audio/"+a,n=ht.html5.canPlayType({type:u}),ht.html5[a]=n,n=n&&ht.html5[u]&&!o(u)),n},nt=function(){function t(t){var e,n,i=!1,o=!1;if(!s||"function"!=typeof s.canPlayType)return i;if(t instanceof Array){for(a=0,n=t.length;a<n;a++)(ht.html5[t[a]]||s.canPlayType(t[a]).match(ht.html5Test))&&(o=!0,ht.html5[t[a]]=!0,ht.flash[t[a]]=!!t[a].match(Kt));i=o}else e=!(!s||"function"!=typeof s.canPlayType)&&s.canPlayType(t),i=!(!e||!e.match(ht.html5Test));return i}if(!ht.useHTML5Audio||!ht.hasHTML5)return ht.html5.usingFlash=!0,Ft=!0,!1;var n,i,o,a,s=Audio!==e?jt&&opera.version()<10?new Audio(null):new Audio:null,r={};o=ht.audioFormats;for(n in o)if(o.hasOwnProperty(n)&&(i="audio/"+n,r[n]=t(o[n].type),r[i]=r[n],n.match(Kt)?(ht.flash[n]=!0,ht.flash[i]=!0):(ht.flash[n]=!1,ht.flash[i]=!1),o[n]&&o[n].related))for(a=o[n].related.length-1;a>=0;a--)r["audio/"+o[n].related[a]]=r[n],ht.html5[o[n].related[a]]=r[n],ht.flash[o[n].related[a]]=r[n];return r.canPlayType=s?t:null,ht.html5=h(ht.html5,r),ht.html5.usingFlash=J(),Ft=ht.html5.usingFlash,!0},b={},N=function(){},U=function(t){return 8===c&&t.loops>1&&t.stream&&(t.stream=!1),t},V=function(t,e){return t&&!t.usePolicyFile&&(t.onid3||t.usePeakData||t.useWaveformData||t.useEQData)&&(t.usePolicyFile=!0),t},j=function(t){},u=function(){return!1},H=function(t){var e;for(e in t)t.hasOwnProperty(e)&&"function"==typeof t[e]&&(t[e]=u);e=null},I=function(t){t===e&&(t=!1),(Mt||t)&&ht.disable(t)},x=function(t){var e,n=null;if(t)if(t.match(/\.swf(\?.*)?$/i)){if(n=t.substr(t.toLowerCase().lastIndexOf(".swf?")+4))return t}else t.lastIndexOf("/")!==t.length-1&&(t+="/");return e=(t&&t.lastIndexOf("/")!==-1?t.substr(0,t.lastIndexOf("/")+1):"./")+ht.movieURL,ht.noSWFCache&&(e+="?ts="+(new Date).getTime()),e},w=function(){c=parseInt(ht.flashVersion,10),8!==c&&9!==c&&(ht.flashVersion=c=Tt);var t=ht.debugMode||ht.debugFlash?"_debug.swf":".swf";ht.useHTML5Audio&&!ht.html5Only&&ht.audioFormats.mp4.required&&c<9&&(ht.flashVersion=c=9),ht.version=ht.versionNumber+(ht.html5Only?" (HTML5-only mode)":9===c?" (AS3/Flash 9)":" (AS2/Flash 8)"),c>8?(ht.defaultOptions=h(ht.defaultOptions,ht.flash9Options),ht.features.buffering=!0,ht.defaultOptions=h(ht.defaultOptions,ht.movieStarOptions),ht.filePatterns.flash9=new RegExp("\\.(mp3|"+ee.join("|")+")(\\?.*)?$","i"),ht.features.movieStar=!0):ht.features.movieStar=!1,ht.filePattern=ht.filePatterns[8!==c?"flash9":"flash8"],ht.movieURL=(8===c?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",t),ht.features.peakData=ht.features.waveformData=ht.features.eqData=c>8},k=function(t,e){return!!mt&&void mt._setPolling(t,e)},F=function(){},q=this.getSoundById,R=function(){var t=[];return ht.debugMode&&t.push($.sm2Debug),ht.debugFlash&&t.push($.flashDebug),ht.useHighPerformance&&t.push($.highPerf),t.join(" ")},B=function(){var t=(N("fbHandler"),ht.getMoviePercent()),e=$,n={type:"FLASHBLOCK"};return!ht.html5Only&&void(ht.ok()?ht.oMC&&(ht.oMC.className=[R(),e.swfDefault,e.swfLoaded+(ht.didFlashBlock?" "+e.swfUnblocked:"")].join(" ")):(Ft&&(ht.oMC.className=R()+" "+e.swfDefault+" "+(null===t?e.swfTimedout:e.swfError)),ht.didFlashBlock=!0,_({type:"ontimeout",ignoreInit:!0,error:n}),A(n)))},y=function(t,n,i){vt[t]===e&&(vt[t]=[]),vt[t].push({method:n,scope:i||null,fired:!1})},_=function(t){if(t||(t={type:ht.ok()?"onready":"ontimeout"}),!wt&&t&&!t.ignoreInit)return!1;if("ontimeout"===t.type&&(ht.ok()||Mt&&!t.ignoreInit))return!1;var e,n,i={success:t&&t.ignoreInit?ht.ok():!Mt},o=t&&t.type?vt[t.type]||[]:[],a=[],s=[i],r=Ft&&!ht.ok();for(t.error&&(s[0].error=t.error),e=0,n=o.length;e<n;e++)o[e].fired!==!0&&a.push(o[e]);if(a.length)for(e=0,n=a.length;e<n;e++)a[e].scope?a[e].method.apply(a[e].scope,s):a[e].method.apply(this,s),r||(a[e].fired=!0);return!0},g=function(){t.setTimeout(function(){ht.useFlashBlock&&B(),_(),"function"==typeof ht.onload&&ht.onload.apply(t),ht.waitForWindowLoad&&it.add(t,"load",g)},1)},st=function(){if(at!==e)return at;var n,i,o,a=!1,s=navigator,r=s.plugins,u=t.ActiveXObject;if(r&&r.length)i="application/x-shockwave-flash",o=s.mimeTypes,o&&o[i]&&o[i].enabledPlugin&&o[i].enabledPlugin.description&&(a=!0);else if(u!==e&&!yt.match(/MSAppHost/i)){try{n=new u("ShockwaveFlash.ShockwaveFlash")}catch(l){n=null}a=!!n,n=null}return at=a,a},J=function(){var t,e,n=ht.audioFormats,i=Bt&&!!yt.match(/os (1|2|3_0|3_1)\s/i);if(i?(ht.hasHTML5=!1,ht.html5Only=!0,ht.oMC&&(ht.oMC.style.display="none")):ht.useHTML5Audio&&(ht.html5&&ht.html5.canPlayType||(ht.hasHTML5=!1)),ht.useHTML5Audio&&ht.hasHTML5){K=!0;for(e in n)n.hasOwnProperty(e)&&n[e].required&&(ht.html5.canPlayType(n[e].type)?ht.preferFlash&&(ht.flash[e]||ht.flash[n[e].type])&&(t=!0):(K=!1,t=!0))}return ht.ignoreFlash&&(t=!1,K=!0),ht.html5Only=ht.hasHTML5&&ht.useHTML5Audio&&!t,!ht.html5Only},Y=function(t){var e,n,i,o=0;if(t instanceof Array){for(e=0,n=t.length;e<n;e++)if(t[e]instanceof Object){if(ht.canPlayMIME(t[e].type)){o=e;break}}else if(ht.canPlayURL(t[e])){o=e;break}t[o].url&&(t[o]=t[o].url),i=t[o]}else i=t;return i},Q=function(t){t._hasTimer||(t._hasTimer=!0,!qt&&ht.html5PollingInterval&&(null===At&&0===Dt&&(At=setInterval(G,ht.html5PollingInterval)),Dt++))},W=function(t){t._hasTimer&&(t._hasTimer=!1,!qt&&ht.html5PollingInterval&&Dt--)},G=function(){var t;if(null!==At&&!Dt)return clearInterval(At),At=null,!1;for(t=ht.soundIDs.length-1;t>=0;t--)ht.sounds[ht.soundIDs[t]].isHTML5&&ht.sounds[ht.soundIDs[t]]._hasTimer&&ht.sounds[ht.soundIDs[t]]._onTimer()},A=function(n){n=n!==e?n:{},"function"==typeof ht.onerror&&ht.onerror.apply(t,[{type:n.type!==e?n.type:null}]),n.fatal!==e&&n.fatal&&ht.disable()},rt=function(){if(!Qt||!st())return!1;var t,e,n=ht.audioFormats;for(e in n)if(n.hasOwnProperty(e)&&("mp3"===e||"mp4"===e)&&(ht.html5[e]=!1,n[e]&&n[e].related))for(t=n[e].related.length-1;t>=0;t--)ht.html5[n[e].related[t]]=!1},this._setSandboxType=function(t){},this._externalInterfaceOK=function(t){if(ht.swfLoaded)return!1;ht.swfLoaded=!0,Gt=!1,Qt&&rt(),setTimeout(d,$t?100:1)},D=function(t,n){function i(){}function o(t,e){return'<param name="'+t+'" value="'+e+'" />'}if(Ot&&Lt)return!1;if(ht.html5Only)return w(),i(),ht.oMC=r(ht.movieID),d(),Ot=!0,Lt=!0,!1;var a,s,u,l,c,f,h,p,m=n||ht.url,y=ht.altURL||m,_="JS/Flash audio component (SoundManager 2)",g=E(),v=R(),O=null,L=gt.getElementsByTagName("html")[0];
if(O=L&&L.dir&&L.dir.match(/rtl/i),t=t===e?ht.id:t,w(),ht.url=x(zt?m:y),n=ht.url,ht.wmode=!ht.wmode&&ht.useHighPerformance?"transparent":ht.wmode,null!==ht.wmode&&(yt.match(/msie 8/i)||!$t&&!ht.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(kt.push(b.spcWmode),ht.wmode=null),a={name:t,id:t,src:n,quality:"high",allowScriptAccess:ht.allowScriptAccess,bgcolor:ht.bgColor,pluginspage:Zt+"www.macromedia.com/go/getflashplayer",title:_,type:"application/x-shockwave-flash",wmode:ht.wmode,hasPriority:"true"},ht.debugFlash&&(a.FlashVars="debug=1"),ht.wmode||delete a.wmode,$t)s=gt.createElement("div"),l=['<object id="'+t+'" data="'+n+'" type="'+a.type+'" title="'+a.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',o("movie",n),o("AllowScriptAccess",ht.allowScriptAccess),o("quality",a.quality),ht.wmode?o("wmode",ht.wmode):"",o("bgcolor",ht.bgColor),o("hasPriority","true"),ht.debugFlash?o("FlashVars",a.FlashVars):"","</object>"].join("");else{s=gt.createElement("embed");for(u in a)a.hasOwnProperty(u)&&s.setAttribute(u,a[u])}if(F(),v=R(),g=E())if(ht.oMC=r(ht.movieID)||gt.createElement("div"),ht.oMC.id)p=ht.oMC.className,ht.oMC.className=(p?p+" ":$.swfDefault)+(v?" "+v:""),ht.oMC.appendChild(s),$t&&(c=ht.oMC.appendChild(gt.createElement("div")),c.className=$.swfBox,c.innerHTML=l),Lt=!0;else{if(ht.oMC.id=ht.movieID,ht.oMC.className=$.swfDefault+" "+v,f=null,c=null,ht.useFlashBlock||(ht.useHighPerformance?f={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(f={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},O&&(f.left=Math.abs(parseInt(f.left,10))+"px"))),Ut&&(ht.oMC.style.zIndex=1e4),!ht.debugFlash)for(h in f)f.hasOwnProperty(h)&&(ht.oMC.style[h]=f[h]);try{$t||ht.oMC.appendChild(s),g.appendChild(ht.oMC),$t&&(c=ht.oMC.appendChild(gt.createElement("div")),c.className=$.swfBox,c.innerHTML=l),Lt=!0}catch(M){throw new Error(N("domError")+" \n"+M.toString())}}return Ot=!0,i(),!0},T=function(){return ht.html5Only?(D(),!1):!mt&&(!!ht.url&&(mt=ht.getMovie(ht.id),mt||(Pt?($t?ht.oMC.innerHTML=St:ht.oMC.appendChild(Pt),Pt=null,Ot=!0):D(ht.id,ht.url),mt=ht.getMovie(ht.id)),"function"==typeof ht.oninitmovie&&setTimeout(ht.oninitmovie,1),!0))},v=function(){setTimeout(O,1e3)},L=function(){t.setTimeout(function(){ht.setup({preferFlash:!1}).reboot(),ht.didFlashBlock=!0,ht.beginDelayedInit()},1)},O=function(){var e,n=!1;return!!ht.url&&(!Ct&&(Ct=!0,it.remove(t,"load",v),!(at&&Gt&&!Wt)&&(wt||(e=ht.getMoviePercent(),e>0&&e<100&&(n=!0)),void setTimeout(function(){return e=ht.getMoviePercent(),n?(Ct=!1,t.setTimeout(v,1),!1):void(!wt&&Yt&&(null===e?ht.useFlashBlock||0===ht.flashLoadTimeout?ht.useFlashBlock&&B():!ht.useFlashBlock&&K?L():_({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0===ht.flashLoadTimeout||(!ht.useFlashBlock&&K?L():I(!0))))},ht.flashLoadTimeout))))},M=function(){function e(){it.remove(t,"focus",M)}return Wt||!Gt?(e(),!0):(Yt=!0,Wt=!0,Ct=!1,v(),e(),!0)},dt=function(){},lt=function(){},f=function(e){if(wt)return!1;if(ht.html5Only)return wt=!0,g(),!0;var n,i=ht.useFlashBlock&&ht.flashLoadTimeout&&!ht.getMoviePercent(),o=!0;return i||(wt=!0),n={type:!at&&Ft?"NO_FLASH":"INIT_TIMEOUT"},(Mt||e)&&(ht.useFlashBlock&&ht.oMC&&(ht.oMC.className=R()+" "+(null===ht.getMoviePercent()?$.swfTimedout:$.swfError)),_({type:"ontimeout",error:n,ignoreInit:!0}),A(n),o=!1),Mt||(ht.waitForWindowLoad&&!bt?it.add(t,"load",g):g()),o},l=function(){var t,n=ht.setupOptions;for(t in n)n.hasOwnProperty(t)&&(ht[t]===e?ht[t]=n[t]:ht[t]!==n[t]&&(ht.setupOptions[t]=ht[t]))},d=function(){function e(){it.remove(t,"load",ht.beginDelayedInit)}if(wt)return!1;if(ht.html5Only)return wt||(e(),ht.enabled=!0,f()),!0;T();try{mt._externalInterfaceTest(!1),k(!0,ht.flashPollingInterval||(ht.useHighPerformance?10:50)),ht.debugMode||mt._disableDebug(),ht.enabled=!0,ht.html5Only||it.add(t,"unload",u)}catch(n){return A({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),I(!0),f(),!1}return f(),e(),!0},P=function(){return!C&&(C=!0,l(),F(),!at&&ht.hasHTML5&&ht.setup({useHTML5Audio:!0,preferFlash:!1}),nt(),!at&&Ft&&(kt.push(b.needFlash),ht.setup({flashLoadTimeout:1})),gt.removeEventListener&&gt.removeEventListener("DOMContentLoaded",P,!1),T(),!0)},et=function(){return"complete"===gt.readyState&&(P(),gt.detachEvent("onreadystatechange",et)),!0},S=function(){bt=!0,P(),it.remove(t,"load",S)},st(),it.add(t,"focus",M),it.add(t,"load",v),it.add(t,"load",S),gt.addEventListener?gt.addEventListener("DOMContentLoaded",P,!1):gt.attachEvent?gt.attachEvent("onreadystatechange",et):A({type:"NO_DOM2_EVENTS",fatal:!0})}if(!t||!t.document)throw new Error("SoundManager requires a browser with window and document objects.");var i=null;t.SM2_DEFER!==e&&SM2_DEFER||(i=new n),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=n,module.exports.soundManager=i):"function"==typeof define&&define.amd&&define(function(){function e(e){if(!t.soundManager&&e instanceof Function){var i=e(n);i instanceof n&&(t.soundManager=i)}return t.soundManager}return{constructor:n,getInstance:e}}),t.SoundManager=n,t.soundManager=i}(window),!function(t){"use strict";function e(){var t=this,e=this,n=soundManager,i=navigator.userAgent.match(/ipad|iphone/i),o=navigator.userAgent.match(/msie/i);this.excludeClass="button-exclude",this.links=[],this.sounds=[],this.soundsByURL={},this.indexByURL={},this.lastSound=null,this.soundCount=0,this.config={playNext:!1,autoPlay:!1},this.css={sDefault:"sm2_button",sLoading:"sm2_loading",sPlaying:"sm2_playing",sPaused:"sm2_paused"},this.includeClass=this.css.sDefault,this.addEventHandler="undefined"!=typeof window.addEventListener?function(t,e,n){return t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)},this.removeEventHandler="undefined"!=typeof window.removeEventListener?function(t,e,n){return t.removeEventListener(e,n,!1)}:function(t,e,n){return t.detachEvent("on"+e,n)},this.classContains=function(t,e){return"undefined"!=typeof t.className&&t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},this.addClass=function(e,n){return!(!e||!n||t.classContains(e,n))&&void(e.className=(e.className?e.className+" ":"")+n)},this.removeClass=function(e,n){return!!(e&&n&&t.classContains(e,n))&&void(e.className=e.className.replace(new RegExp("( "+n+")|("+n+")","g"),""))},this.getSoundByURL=function(e){return"undefined"!=typeof t.soundsByURL[e]?t.soundsByURL[e]:null},this.isChildOfNode=function(t,e){if(!t||!t.parentNode)return!1;e=e.toLowerCase();do t=t.parentNode;while(t&&t.parentNode&&t.nodeName.toLowerCase()!==e);return t.nodeName.toLowerCase()===e?t:null},this.events={play:function(){e.removeClass(this._data.oLink,this._data.className),this._data.className=e.css.sPlaying,e.addClass(this._data.oLink,this._data.className)},stop:function(){e.removeClass(this._data.oLink,this._data.className),this._data.className=""},pause:function(){e.removeClass(this._data.oLink,this._data.className),this._data.className=e.css.sPaused,e.addClass(this._data.oLink,this._data.className)},resume:function(){e.removeClass(this._data.oLink,this._data.className),this._data.className=e.css.sPlaying,e.addClass(this._data.oLink,this._data.className)},finish:function(){if(e.removeClass(this._data.oLink,this._data.className),this._data.className="",e.config.playNext){var t=e.indexByURL[this._data.oLink.href]+1;t<e.links.length&&e.handleClick({target:e.links[t]})}}},this.stopEvent=function(t){return"undefined"!=typeof t&&"undefined"!=typeof t.preventDefault?t.preventDefault():"undefined"!=typeof window.event&&(window.event.returnValue=!1),!1},this.getTheDamnLink=o?function(t){return t&&t.target?t.target:window.event.srcElement}:function(t){return t.target},this.handleClick=function(e){if("undefined"!=typeof e.button&&e.button>1)return!0;var i,o,a,s=t.getTheDamnLink(e);return"a"!==s.nodeName.toLowerCase()&&!(s=t.isChildOfNode(s,"a"))||(i=s.getAttribute("href"),!(s.href&&soundManager.canPlayLink(s)&&!t.classContains(s,t.excludeClass))||!t.classContains(s,t.includeClass)||(n._writeDebug("handleClick()"),o=s.href,a=t.getSoundByURL(o),a?a===t.lastSound?a.togglePause():(a.togglePause(),n._writeDebug("sound different than last sound: "+t.lastSound.id),t.lastSound&&t.stopSound(t.lastSound)):(a=n.createSound({id:"basicMP3Sound"+t.soundCount++,url:o,onplay:t.events.play,onstop:t.events.stop,onpause:t.events.pause,onresume:t.events.resume,onfinish:t.events.finish,type:s.type||null}),a._data={oLink:s,className:t.css.sPlaying},t.soundsByURL[o]=a,t.sounds.push(a),t.lastSound&&t.stopSound(t.lastSound),a.play()),t.lastSound=a,t.stopEvent(e)))},this.stopSound=function(t){soundManager.stop(t.id),i||soundManager.unload(t.id)},this.init=function(){n._writeDebug("basicMP3Player.init()");var e,i,o=0,a=document.getElementsByTagName("a");for(e=0,i=a.length;e<i;e++)t.classContains(a[e],t.css.sDefault)&&!t.classContains(a[e],t.excludeClass)&&(t.links[o]=a[e],t.indexByURL[a[e].href]=o,o++);o>0&&(t.addEventHandler(document,"click",t.handleClick),t.config.autoPlay&&t.handleClick({target:t.links[0],preventDefault:function(){}})),n._writeDebug("basicMP3Player.init(): Found "+o+" relevant items.")},this.init()}var n=null;soundManager.setup({preferFlash:!1,onready:function(){n=new e}})}(this.LaravelElixirBundle=this.LaravelElixirBundle||{}),!function(t){"use strict";$(function(){function t(t){var e=t.getBoundingClientRect();return e}FV.detectAge(),soundManager.setup({url:"/assets/SoundManager2/swf/"}),$.support.pjax&&($(document).pjax("[data-pjax] a, a[data-pjax]","#user_Content"),$(document).on("submit","form[data-pjax]",function(t){$.pjax.submit(t,"#user_Content")}));var e=document.querySelector("#projectSubmenu"),n=document.querySelector(".stickyNavTrigger"),i=document.querySelector(".contentMenu"),o=document.querySelector(".CTA-menu"),a=document.querySelector(".videoFrame"),s=document.querySelector(".videoStickyClose"),r=document.querySelector(".videoStickyPanel");$(".videoBlock").on("click",function(){$(".playbar").addClass("hidden"),$(".videoFrame").removeClass("hiddenRes"),"function"!=typeof player.playVideo?player.api("play"):player.playVideo()}),r.addEventListener("click",function(t){a.classList.contains("shrinkVideo")?(a.classList.remove("shrinkVideo"),"function"!=typeof player.playVideo?player.api("play"):player.playVideo()):(a.classList.add("shrinkVideo"),setTimeout(function(){"function"!=typeof player.pauseVideo?player.api("pause"):player.pauseVideo()},100))}),s.addEventListener("click",function(t){a.classList.add("lockVideo"),a.classList.remove("stickyVideo"),setTimeout(function(){"function"!=typeof player.pauseVideo?player.api("pause"):player.pauseVideo()},100)}),window.addEventListener("scroll",function(s){t(n).bottom<0?(e.classList.add("stickyProjectNav"),n.classList.add("triggered"),o.classList.add("triggered"),i.classList.add("triggered")):(e.classList.remove("stickyProjectNav"),n.classList.remove("triggered"),o.classList.remove("triggered"),i.classList.remove("triggered")),a.classList.contains("hiddenRes")||Modernizr.touch||a.classList.contains("lockVideo")||(t(n).bottom<0?(a.classList.add("stickyVideo"),setTimeout(function(){a.style.transition=".3s all ease"},100)):(a.classList.remove("stickyVideo"),a.style.transition="0s all ease"))}),$(".contentMenu a").on("click",function(){$(".contentMenu a.active").removeClass("active"),$(this).addClass("active"),$(document).on("pjax:complete",function(){window.FV.goToByScroll("pjax_pageAnchor")})}),$(".customWrapper").fitVids(),$(document).on("pjax:complete ready",function(){$("#backers").jscroll({autoTrigger:!0,nextSelector:".pagination li.active + li a",contentSelector:"div.lists",loadingHtml:'<div class="text-center"><i class="fa fa-spinner fa-spin"></i> Loading...</div>'}),$("a.editComment").on("click",function(){var t=$(this).data("id");$("#comment-"+t+" > .ccontent, #comment-"+t+" > form").toggle(),$(this).hide()})}),$("#subscribe").on("ajax:success",function(){$(".reminder span").toggleClass("active")}),$(".rewardItem.onlive").on("click",function(){var t=$(this).attr("data-id");Modernizr.touch||($(this).hasClass("onPledge")||window.FV.goToByScroll(t+"-card"),$('input[data-id="'+t+'"]#money_extra').focus()),$(".rewardItem.onPledge").removeClass("onPledge"),$(this).addClass("onPledge")}),$(".artistToggle, .mcloseBtn").on("click",function(t){t.preventDefault(),$(".musicplayer").toggleClass("open")});var u=function(t){var e=t.currentTarget.getAttribute("data-project-url");FB.ui({method:"share",mobile_iframe:!0,href:e},function(t){t&&!t.error_code&&(toastr.success("分享至臉書成功！"),$("#messageModal").modal("hide"))})};$(".projectFbShare").on("click",function(t){u(t)})})}(this.LaravelElixirBundle=this.LaravelElixirBundle||{}),!function(t){"use strict";function e(t,e){return parseFloat((t/e*100).toFixed(2))}function n(t,n){var i=n.getAttribute("data-id"),o=document.querySelector('p.pledge-percent[data-id="'+i+'"]'),u=document.querySelector('input[name="money"]#'+i),l=parseFloat(o.getAttribute("data-reward-money")),d=parseFloat(n.value)||0,c=l+d,f=e(c,MONEY_GOAL),h=(f+a).toFixed(2),p=document.createElement("span");p.classList.add("pledge-red"),h>=80?(o.innerHTML=r,p.innerHTML=h,o.appendChild(p)):(o.innerHTML=s,p.innerHTML=f,o.appendChild(p)),"keyup"===t.type&&(u.value=c)}function i(t,e){var n=setInterval(function(){var i=new Date,o=i.getTime()+6e4*i.getTimezoneOffset(),a="限時贊助倒數：",s=t-o,r=Math.floor(s/864e5),u=Math.floor(s%864e5/36e5),l=Math.floor(s%36e5/6e4),d=Math.floor(s%6e4/1e3);document.getElementById(e+"-timer-text").innerHTML=a,document.getElementById(e+"-timer").innerHTML=(r?r+"天":"")+" "+(u?u+"時":"")+" "+(l?l+"分":"")+" "+d+"秒",s<0&&(clearInterval(n),document.getElementById(e+"-timer-text").innerHTML="限時回饋已結束",document.getElementById(e+"-timer").innerHTML="")},1e3);return n}var o=Array.prototype.slice.call(document.querySelectorAll('input[type="number"].pledge-input')),a=e(MONEY_PLEDGED,MONEY_GOAL),s="您的支持將推動專案 ",r="您的支持將使專案達到 ",u=document.querySelectorAll(".rewardTimers");if(u.length>0){var l=Array.prototype.slice.call(u);l.forEach(function(t){if(t.classList.contains("limitCounting")){var e=t.getAttribute("data-end_time").split(/[^0-9]/),n=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]);i(n.getTime()-288e5,t.getAttribute("data-reward_id"))}})}o.forEach(function(t){t.addEventListener("keyup",function(e){n(e,t)})}),window.addEventListener("load",function(t){o.forEach(function(e){n(t,e)})}),$(function(){if($(".reward-submit").on("submit",function(t){var e=$(this).find('input[name="time_end"]').val();if(e){var n=(new Date).getTime();if(new Date(e).getTime()<n)return t.preventDefault(),void toastr.warning("贊助失敗，此回饋已到期了！")}var i={reward_id:$(this).find('input[name="reward_id"]').val(),money_extra:$(this).find('input[name="money_extra"]').val(),money:$(this).find('input[name="money"]').val()};window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"addToCart",ecommerce:{currencyCode:"TWD",add:{actionField:{step:2},products:[{name:$(this).attr("data-project-title"),id:$(this).attr("data-project-id"),category:$(this).attr("data-project-category"),price:i.money-i.money_extra,quantity:1}]}}}),window.localStorage.setItem(FV.LOCALSTORAGE_KEY,JSON.stringify(i))}),window.localStorage[FV.LOCALSTORAGE_KEY]){var t=JSON.parse(window.localStorage[FV.LOCALSTORAGE_KEY]),e="reward_"+t.reward_id,n=""===t.money_extra?0:t.money_extra;if(document.querySelector("#"+e)){var i=$("#"+e);window.FV.goToByScroll(e),i.addClass("active"),$('input[data-id="reward-'+t.reward_id+'"]#money_extra').val(n).focus(),$('input[id="reward-'+t.reward_id+'"]').val(t.money)}}})}(this.LaravelElixirBundle=this.LaravelElixirBundle||{});